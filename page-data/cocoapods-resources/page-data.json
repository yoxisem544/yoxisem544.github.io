{"componentChunkName":"component---src-templates-blog-post-js","path":"/cocoapods-resources/","webpackCompilationHash":"fe2d35b8b798718c46c6","result":{"data":{"site":{"siteMetadata":{"title":"Hello Swift!","author":"David Lin"}},"markdownRemark":{"id":"af3b30b4-f5e6-5a16-b4f2-aac369ad3163","html":"<p>在 Cocoapods 管理圖片、聲音、影片等等資源會跟原本在 xcode project 中不太一樣，我們來看一下如何在 Cocoapods 中新增這些資源。</p>\n<p>Cocoapods 提供了兩種方式給我們管理資源，可以在 <code class=\"language-text\">.podspec 中設定</code>：</p>\n<ol>\n<li>s.resources</li>\n<li>s.resource_bundles</li>\n</ol>\n<h2 id=\"resources\"><a href=\"#resources\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>resources</h2>\n<p>透過 resources 我們可以將指定資料夾中的指定資料 <code class=\"language-text\">&quot;單純的 copy 至 framework 之中&quot;</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">s<span class=\"token punctuation\">.</span>resources <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">'&lt;YOUR_PROJECT_NAME>/Assets/*.png'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># for all pngs</span>\n  <span class=\"token string\">'&lt;YOUR_PROJECT_NAME>/Assets/*.m4a'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># for all audios</span>\n  <span class=\"token comment\"># and so on...</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>在此我們要檢查一下這些檔案被用什麼樣的方式複製到 <code class=\"language-text\">.framework</code> 之中，因此我們必須先知道該 bundle 的 file directory 在哪裡，可以先抓到該 framework 的 bundle，再取其 path。</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">Foundation</span>\n\nfileprivate <span class=\"token keyword\">class</span> <span class=\"token class-name\">ThisClass</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">struct</span> <span class=\"token builtin\">Resources</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">var</span> bundle<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Bundle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">get</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">Bundle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">ThisClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>將建立 pod 時產生的 example 跑起來，再把 bundle path 印出來：</p>\n<div class=\"gatsby-highlight\" data-language=\"lldb\"><pre class=\"language-lldb\"><code class=\"language-lldb\">(lldb) p Resources.bundle.resourcePath\n(String?) $R1 = &quot;/Users/David/Library/Developer/CoreSimulator/Devices/709C7C0A-458D-49CD-8681-DE7E767DC53E/data/Containers/Bundle/Application/559E93DC-DB45-4FF0-B025-A8FBCBF83601/SampleProject_Example.app/Frameworks/SampleProject.framework&quot;</code></pre></div>\n<p>取得 bundle path 之後，我們 cd 至該目錄可以看到，我們放進去的圖片資源單純的被複製到 framework 之中：</p>\n<p align=\"center\">\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/533d4f1eb83094c6ad1927cd0ed9b56e/a49a1/img1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.13151927437642%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACNUlEQVQoz42T2W7TQBSGk0gBCbWvwC0tdbwv4z1ekrRJYzchUdqgtopoiSh9M8RLIC7AICFeoPJl3yEeH45N3IQKCUb6NJv9zT8zmloNS2QrL/xD3dAtV7Nsl1hOm3CCRCzbIcMoJl7QIV7YIWHvkBiWQ4hplRj4rW7Zmm7ahum4e7V1eTqL+p9OpsegEHOFk7Ttd+jbm1u6uF7S63fv6cXiTcnZ63M6ns7oyaspPcX2ZHZGp6fz1fz8Eo6Oo8/oelIId92glwyGY1B1kyJgWC6MxlOI+gPohl0gtguYHlTDAtsLIBpPwA06oJk2GI5Hi7akku/o2imEO07b/zqZzSHs9TNiubmiaPkwDPNZHOe2IucMJ+QML+YHWPOymnthN8dzKfsvWT6TiQHEtL89CFGULK6W0B/GWZFEUnVwXA88P8TUBqAMWoJU1pwol0lFlZR9JJM0HQRZ3QjxzJLlzS2eQ5ypugUF+yxfgilKWUUhKcaqRZCMxUX2DloboeMFSTyagGG3y4R4OdDa/FAleeDRWMZKCuwz7PaWj5KLxdXvMzSdUriV4F9kXCFsbQn9Tu9LjLdquf4KE1JZMyjDC4j4P6zKLTNsUgl3XS/8McQtD6IR2O0AipR4myWCov1BNb6NiJdywPI/K+EzWdU+EN28V4l+J6skFSQlZQUJEVNF01N8Hik+h7SYK8Y4UdogSHe8KN8zLP+xcNWazWYDG88RHuEeU6/XuEajgdS5v82v4deOxi+OUT44JOJ3UAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img1\" title src=\"/static/533d4f1eb83094c6ad1927cd0ed9b56e/b9e4f/img1.png\" srcset=\"/static/533d4f1eb83094c6ad1927cd0ed9b56e/cf440/img1.png 148w,\n/static/533d4f1eb83094c6ad1927cd0ed9b56e/d2d38/img1.png 295w,\n/static/533d4f1eb83094c6ad1927cd0ed9b56e/b9e4f/img1.png 590w,\n/static/533d4f1eb83094c6ad1927cd0ed9b56e/a49a1/img1.png 882w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<hr>\n<h2 id=\"resource_bundles\"><a href=\"#resource_bundles\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>resource_bundles</h2>\n<p>那如果我的圖片要支援 @1x, @2x, @3x 呢？</p>\n<p>在 <code class=\"language-text\">*.xcassets</code> 之中，我們可以將各個尺寸的圖片放進去，接著從 appstore 下載的時候會自動依照裝置的大小來決定要下載哪一個尺寸的圖片，進而達到節省 app 大小與網路資源的成效。</p>\n<p>如果要在 Cocoapods 中加入 <code class=\"language-text\">*.xcassets</code> 就需要用到 <code class=\"language-text\">resource_bundles</code> 了。</p>\n<p>我們可以在 Assets 資料夾中建立一個新的資料夾 <code class=\"language-text\">&lt;ASSETS_NAME&gt;.xcassets</code>（切記結尾要是 <code class=\"language-text\">.xcassets</code>，建立好沒有看到該資料夾可能要重新 <code class=\"language-text\">pod install</code> 一次）再把有分尺寸的圖片丟進去即可：</p>\n<p align=\"center\">\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/1c68de47e4c21b87f25b07d2067c8675/0c12f/img2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 72.48134328358209%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAADAklEQVQ4y62T60/aUBjGu2XZJc5NnYGCYtVoJhbKvSKWXqktN0GKpUAVDCvgki3ZPy4z2bJ98Jx3pzh38+tO8uQ958vvPM973kOt0fvrern6pdXvQac/AMt2oGG70Oh6oLcncHo+hnpvArY7gG6/C23bgrNOC8xTG+qnbahbHaI2lOuNb+uRzS3q0fPVTdU8vh6OLuDEcm6PZA3xgoJYsYO2hQGK5PsozLuIV5rI0DVULApIFEUkKSqSJAkpinIriUUQJfFzKBTepSgqwIwHynXPtSEvltCRXMIFScMsx+HofhSzMRZH2SjO5XJYkmSsKCqWZRmXNA2rqoorlQoiFcglN6FQaIcAXzG205y1Og4Iio4IDAgU2BQPe1wGokRv42nI5QtA3MxFgGAYBmia5u99l38Cl5hm05h54yFUmzYSlBL4UDaZhb14igDT8DaWgtxBfg4jMefAe/AD4NLqGlMQxdnwsg+NdpcA9YdAUrO8D5TnwH80BxaLxRuapncoOrzB8AVh1iOvbPcukF458aM/AN45lH85vBfp6y+Hc+AbepsxK+XZ9OMUzkdTZFQbYNQawKV5EjX5t0P5t0P5p3yH/lkQhLvI9BpDIsuz88tLuBhNUNtxoVSuw34yA2wiA/tcCvZiCTg4PCIOVZD93t1L9quKzHIZ9OPjm2AwuENtbTFMkhdmbecCRpP3qD8cYc2o4HzxGEt6FYuyiiVVxyWzis1aA1dOWlg2Glg1T7FitrCi15BZs0AzT25WAyTy4xfrTL0mXvddF2rNs1sS159FlEjnEZfJo2TuECWyd/tYKosKook6/Q/IcqYkzRVq2ZPbWnMIJcP6HIls3Y2N26t8HV9NwXLOCbRNxseCFF+Y989/mHgqC3HSgr0YB4fFErjDT3DWnZAveAnW2QAc9wpqnQ/f6cjuLvX0CbWwsc12omx8Eue4d4lU2kumM976BuORCN7KasALh9e8EE17wWCAKOwF6E1vaYX2lpeXvcWXC++WV4LjhVDcoZ69XqT+9/oB0a+XW9bSWiQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img2\" title src=\"/static/1c68de47e4c21b87f25b07d2067c8675/b9e4f/img2.png\" srcset=\"/static/1c68de47e4c21b87f25b07d2067c8675/cf440/img2.png 148w,\n/static/1c68de47e4c21b87f25b07d2067c8675/d2d38/img2.png 295w,\n/static/1c68de47e4c21b87f25b07d2067c8675/b9e4f/img2.png 590w,\n/static/1c68de47e4c21b87f25b07d2067c8675/f9b6a/img2.png 885w,\n/static/1c68de47e4c21b87f25b07d2067c8675/0c12f/img2.png 1072w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<p>在此我們可以建立很多個 bundle，且每一個 bundle 可以放入不一樣的資源（但要切成很多個 bundle 也會造成未來在存取的時候，必須先知道該資源的 bundle 位置才能存取，可能會造成混淆）：</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">s<span class=\"token punctuation\">.</span>resource_bundles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n <span class=\"token string\">'ThisIsATestBundle'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">'SampleProject/Assets/*.xcassets'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>一樣 pod install 之後將 example 跑起來印出 bundle resourcePath，此時在這個路徑中我們會看到一個新的 bundle：</p>\n<p align=\"center\">\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/96797377c54da96bff6d91c4639f5dd6/a49a1/img3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.13151927437642%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACPUlEQVQoz42T647SQBTHgQRNzO4r+FUU6P0y03spbBcWykVYFlZJULLEjW9mfAnjB60mxhfY8HHfAdrjmQILGhNt8ktnTpkf/zmd5nJ4Rbb6rHZODWq5umW7xHI8wkkKMR2XtKMe8YMG8esNUg/PiWE5hJhWhoG/pZatI1h2S7nd9XgctT71Rm1Qibmmpp14tUayfHebvFncJDd4n83fZkyuXyeD0TjpvRwlVzgejifJ6Gq6nryaQbMdfUbXIyY8dYMwvugMQKNmggAmhfblNTSjPniNEDTTAR1rmmGB7QcQDYbgBWegY91wvMSvhyBr5Du6TpjwxPFqX4fjKdTD1gZlqaToab8TpdPLcRq4bqrJcqoIQlrmxVRQtNSvn6XUdrP5C07YsD/CbX97EKIoni+W0Op0mRBUjULTtqDp+xC6LjRsG0xZgoogAierWVJJIzhnNWnDxoKiHoTYs3h5+x770N1o1AIVKXMCVDgeEaDKYItFOZNgsuxexTmy4SQVSuXqQej4QdztD8GwvW1CYm4XH7NNcyx6SMhSP69wx1tuxrP5IushnpVMWD1a+A82PBNWj4S1RvilOxiB5dbWmDBRdCPBfiHS/7DGMwulChfvhaeuX//RwS1f4DGxvQBYSnybGaKq/8a+foykU9bzn3vhE0XTPxBq3muE3ikaWYmyuuJEGZFWqk5X+HmsdGqu2DNW4yX5gCjfCZJyjy/vI3PlisViAQdPEQHh/ySfz/GFQgHJ8/m/PN8h7ByFX4VaPv4wqyOUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img3\" title src=\"/static/96797377c54da96bff6d91c4639f5dd6/b9e4f/img3.png\" srcset=\"/static/96797377c54da96bff6d91c4639f5dd6/cf440/img3.png 148w,\n/static/96797377c54da96bff6d91c4639f5dd6/d2d38/img3.png 295w,\n/static/96797377c54da96bff6d91c4639f5dd6/b9e4f/img3.png 590w,\n/static/96797377c54da96bff6d91c4639f5dd6/a49a1/img3.png 882w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<p>且可以看到該 bundle 中有一個 <code class=\"language-text\">.car</code> 檔：</p>\n<p align=\"center\">\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/245874259b1752f79b98030aea8a820a/a49a1/img5.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.13151927437642%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACG0lEQVQoz42T227TQBBAk0gtEmp/gUcojeP7ZX2LnRtpmjiOi5uEtI0IhBYof4b4CcQDGCTED1R+7D8k62HsJiSEgFjpSONd++zseDaXw+FZ8qPqETF0y9Es2yFW2SW8KBMD41anS5xag1QbTVJvtohRdjI0wyLEtImiGxq+Zxh2+SC3GPee+e2PvX4HFGLOdNOmbq1BX72+ps+nl/TyzTW9mLyk4xdTOjwf017Yp17wlA7OLmg4HNH+6HyGQMvrfkLXbircd+vNqO2dgKqbVNUtwC0h7A+h7Qeg2w5gyogDmmlnsWbePbv1JxCcDmilcQSCrH1D114q3Cu71S/hYAT15vEcj51IKkkq7V7iBWGCkqTICUmRFxNmjUOWT3hZTexKbZ5u+vCQ+fpLiKJoMr2CY89PhenRgRFkYEUZeFmBkiBBiReB2SCbF6Q5JynwmGFXQrfaiK7evoNWx5+nR1Z0c9uHW8H1P4XlSi3ygxAM211luCWjvzBnN4XYDtF4Ms1qSLDgS+G/MlvjLsPSmhB77LN/cgqWU51hhlTWDMpwAkXp/zBLa33AsNFSuO9U6t+9XgjtbgC2W8vaAv9ghqBov7GcX8IhoqZDkeV/LIX3ZVV7T3TzVtX0G1klsSApMStIcUkQY1nTY7wVMfZojO2UzbGitEKQbjhRvkXhh9SV29ndKWDwAOERbpM8UigUuEI+z21bX8AvHIWfut49EeZjn4AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img5\" title src=\"/static/245874259b1752f79b98030aea8a820a/b9e4f/img5.png\" srcset=\"/static/245874259b1752f79b98030aea8a820a/cf440/img5.png 148w,\n/static/245874259b1752f79b98030aea8a820a/d2d38/img5.png 295w,\n/static/245874259b1752f79b98030aea8a820a/b9e4f/img5.png 590w,\n/static/245874259b1752f79b98030aea8a820a/a49a1/img5.png 882w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<p>這個檔案可以讓 appstore 可以依據裝置大小決定要下載的圖片資源。</p>\n<hr>\n<h2 id=\"如何讀取-xcassets-中的圖片呢？\"><a href=\"#%E5%A6%82%E4%BD%95%E8%AE%80%E5%8F%96-xcassets-%E4%B8%AD%E7%9A%84%E5%9C%96%E7%89%87%E5%91%A2%EF%BC%9F\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何讀取 <code class=\"language-text\">*.xcassets</code> 中的圖片呢？</h2>\n<p>讓我們用一般的方式直接讀取剛剛放到 <code class=\"language-text\">*.xcassets</code> 中的圖片：</p>\n<p align=\"center\">\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/90156a9e57deead8e702576541124037/00b1f/img4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.84615384615384%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAADk0lEQVQ4y52T22/iRhTGkfrSfWir3W6SJuHmYDABXzCXEiAQsA0EY7AhhNyagBOUhLZ/aR9bq2/9N1ZZYc/XA0mlrfpWSz+dmTPjz2e+Mw4dxXPvhqZ+c3Z75d7NHmb39+7cfVzO759/md/O3fmt+zh/eHqezxbLubt4ms/uF5R/mN/NbubTy2taX8wu3efZ3WK5OJucc6GDfY7vWybs6RTO5BL2+TWs8QUMc4SO5cAZD9E1HdiOBXM4gjkYo9MbwiDqrQ6qJwZanVPaO0bpqLYM7UUigjO9+tQbOEzvmn69bfqFatPnk0Vfzem+kj/xObHqcynVD8dFP8JJG8KcvJnvRTN+JJ75TDns7PPPofcft4XTgf1yYnRRrByzht5mlYbGuGSeyVKDZZUWSyh1lkgXGccrLMxJLHogE68xthnLqzifw26YBHe2twRzNH0ZTi7Q7lmsN3TQMtpYf/EgVUQmU8VhtoS0WIIsF8HxBezFpC9hxCrM5bC9yy9D8ciu0BtfvVy5TyDT2U/ugjwxwSdlEitBlKrIKkdISz+CF1SkMyrlcoSKrLiJjOJKlvM4SCSXoW/efxAaLeOFPESXfBwMbGiNFvJiHuVcGTqZXinXMDyuwa6d4Nxo4nGkEToenU1kNF/9fGagXxGXoW/JQ00zXvokaFk2G1oDVI5biCZUkPEgj5CIi+DjWXA0jlIuHPsXjFhFORU7u1Thd99vCU0SXF8J2xqygTNGpaGThyLIbETeCL/F6H9ZN+ifprxWuBGko/aowvHQxhEJhmPZTWM2xCXQFfmC19xrXmLEKnqg4If9tSBV2FoLWnSBByM2ckZokofRZB7xlAoulUOCmsGn8xCoSalMgcYqEjR/gyUP86vkYQH70eSXgjZOhw7rOxN0Wi2Y1GnbtNDTDfobNNS1NvRTE02jj455CaN/A613iVZ3yozT81Vdc5CRyxvBFAl+WldIgn7fOQtqTS0olQpBrVwJVEUNBDEXCJIaJDNSIOXrQafvBl3LDdrmXdBsX/mVxtlngq5X43ktmNb0NtbNsEYT2JMpGnoXyayKlETHlAvIKGuKOJRVFI90nA4eCHeD1r2h/RdoGNfI5k5+DX34uBWTldxvWVH68zAr/iHnVE8s1jwhK3sJIePF+bQnZESP1rykkPYkpeyVq6YnqQ1PUSueKJc8WSn/LpUHf8UkYxKi5ytii9gjdt/i/2H97td/A5EizUE0A3jFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img4\" title src=\"/static/90156a9e57deead8e702576541124037/b9e4f/img4.png\" srcset=\"/static/90156a9e57deead8e702576541124037/cf440/img4.png 148w,\n/static/90156a9e57deead8e702576541124037/d2d38/img4.png 295w,\n/static/90156a9e57deead8e702576541124037/b9e4f/img4.png 590w,\n/static/90156a9e57deead8e702576541124037/f9b6a/img4.png 885w,\n/static/90156a9e57deead8e702576541124037/00b1f/img4.png 1144w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<p>會發現到用 <code class=\"language-text\">UIImage.init(named:)</code> 會取得 nil，且用 Image Literal 取會直接閃退！因為使用了 <code class=\"language-text\">resource_bundles</code> 會讓資源不是放在 <code class=\"language-text\">./</code> 目錄底下，而是放在 <code class=\"language-text\">ThisIsATestBundle.bundle</code> 底下。因此我們要抓到我們剛才新增的 <code class=\"language-text\">ThisIsATestBundle.bundle</code></p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">fileprivate <span class=\"token keyword\">class</span> <span class=\"token class-name\">ThisClass</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">struct</span> <span class=\"token builtin\">Resources</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">var</span> testBundle<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Bundle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> <span class=\"token function\">Bundle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">ThisClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>resourcePath<span class=\"token operator\">!</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/ThisIsATestBundle.bundle\"</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">Bundle</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">)</span><span class=\"token operator\">!</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>這個 <code class=\"language-text\">testBundle</code> 才是存放圖片資源的位置（記得後面的 bundle name 要根據你設定的名字更改）。</p>\n<h3 id=\"使用-image-literal-讀取圖片\"><a href=\"#%E4%BD%BF%E7%94%A8-image-literal-%E8%AE%80%E5%8F%96%E5%9C%96%E7%89%87\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 Image Literal 讀取圖片</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">internal</span> <span class=\"token keyword\">struct</span> <span class=\"token builtin\">WrappedBundleImage</span><span class=\"token punctuation\">:</span> _ExpressibleByImageLiteral <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> image<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImage</span><span class=\"token operator\">?</span>\n\n    <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>imageLiteralResourceName name<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        image <span class=\"token operator\">=</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token constant\">ANY_BUNDLE</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> compatibleWith<span class=\"token punctuation\">:</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token builtin\">UIImage</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token function\">fromWrappedBundleImage</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> wrappedImage<span class=\"token punctuation\">:</span> <span class=\"token builtin\">WrappedBundleImage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UIImage</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> wrappedImage<span class=\"token punctuation\">.</span>image\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<blockquote>\n<p>參考：<a href=\"https://stackoverflow.com/questions/41834472/xcode8-usage-of-image-literals-in-frameworks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/41834472/xcode8-usage-of-image-literals-in-frameworks</a></p>\n</blockquote>\n</blockquote>\n<h3 id=\"使用-uiimagenamed-讀取圖片\"><a href=\"#%E4%BD%BF%E7%94%A8-uiimagenamed-%E8%AE%80%E5%8F%96%E5%9C%96%E7%89%87\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 UIImage(named:) 讀取圖片</h3>\n<p>要使用存放該圖片資源的 bundle 來讀取圖片：</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cross\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token constant\">ANY_BUNDLE</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> compatibleWith<span class=\"token punctuation\">:</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>再執行一次 example 就可以看到圖片被成功讀取出來了：</p>\n<p align=\"center\">\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/038bd5d5bb0f739d132e80906d0d94d3/00b1f/img6.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.84615384615384%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAAD0UlEQVQ4y52TW2/iVhSFkfrSStV0lElmNBDuGBvwBdtcbIeY+80Ycw0hJAFDJjNB7VN/Zh9b1Lf+jVFGmLN6wkzVPtfSp31kHS/tvZa3T4tkf3Cs+u3k/ma9XD2sNpu1u/m4dTeffnbv3bW73Hx0N4+fXPdxe6yrzaO7XD+496s7dzKbu4ulu5qvn1bLx+2HyfQq6osFoomebWEwm2E4nWNwtYA9nqHZG6Ntj+CMBrCcEWynj449oQxR647QsmzU2z00Og5q7S5a9hh57WLr8wdD7Gh287nbH5F6x/Ium5aXM6peOCZ5PG96ilr1WNn00oLqcSnFO48IXiDMH2swKtBKz+HUF3rGu0Diyff6zVu2YzvPZr0JVbsgl9U6Mcw6CcVEkuSKRJZMwks64WWd5FWNxJMqiSUlEmUkEmFkEk0qFHUfY1W8P6eCQf871rlePk8XLvrjKRlOr1FpdBGMioglC5CyZWTVC3BZE4Ko0ncqEhkVIUZGMJlHJK2TUErf++M5nJzFtr7A+zO20Z8+T+82WCzXZH63ooIdJFMS8lIBVa2Gsm7A1EuQZQNKtoiCkkOpqKKsaTCUHGlo2f2go0PPpba+H09O2XKl9tzt9dHqOaTVtaC3R0jWplBVCZeGQVFhlorQjNIRXS+g11IxdnQsVmXyYdvcP/7aQWMgbH2vTt+y1VrjuecM0XFGxBqMoJkNhNk8QoksgnER53S8QFxCKM4jQokyAs5fQghl4E8IxM9Ie39SwWmQ2fp+enPGVr4JdqlgbziBUa4jzigQpSpUvYlcqQlWqSIj6VCVAh29gIyQo34qiCZkEolJe1rhP2f+7dCyHfrfDangGBeVJr2cA8frkHJlOvolJCqYFktQFA2cUESSL4DNGOAyBk2+sI/RgAIh6uEr2uE/gp3+kNijrx0yaQ1pwQAvKogw0hEmlUOCU5Bgs4ixCkVGnJMJw8l7JqVSQea/goOvI4+mqNfqaHVs9C0HA9vGoD9An4bVbFuoNG0a3hyN3i3dmDlqnRldiKv9ZW1IJ9COgkkq+PmlQyroUQ8PlUr1UMyrByOvHYyifihpxqGo5g9smj8IyuWh1Vsf2vb60LSWh0rzxtPNyRcK9dh8ehHkanRL+oMxXgIZTGYw623qTxYpQaZ+yceaoqNzooycVqfWPFDWR2rtW3r/GmZjgUy2/Ivv5PQsLErZ3zK88Gcqw/8hZuUdn7vYJTPiLs6mdxGG27EZYZeiMCy3E6TirmhYO0E2d5Ks73gxvxOl4u9Csf9XWGhMffT5jnJG8VPef6v/h5dvv/8bMXDUXB0KVXMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img6\" title src=\"/static/038bd5d5bb0f739d132e80906d0d94d3/b9e4f/img6.png\" srcset=\"/static/038bd5d5bb0f739d132e80906d0d94d3/cf440/img6.png 148w,\n/static/038bd5d5bb0f739d132e80906d0d94d3/d2d38/img6.png 295w,\n/static/038bd5d5bb0f739d132e80906d0d94d3/b9e4f/img6.png 590w,\n/static/038bd5d5bb0f739d132e80906d0d94d3/f9b6a/img6.png 885w,\n/static/038bd5d5bb0f739d132e80906d0d94d3/00b1f/img6.png 1144w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<hr>\n<h2 id=\"注意事項\"><a href=\"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>注意事項</h2>\n<p>由於</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">struct</span> <span class=\"token builtin\">WrappedBundleImage</span><span class=\"token punctuation\">:</span> _ExpressibleByImageLiteral <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>使用了 <code class=\"language-text\">_ExpressibleByImageLiteral</code> 使用了 private api，不確定審核的時候會不會被 apple 擋下來，可能要注意一下（但感覺這個 private api 沒有繞過什麼或者作弊之類的，可能不會有問題）</p>\n<h3 id=\"參考資源\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%BA%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考資源</h3>\n<p><a href=\"https://juejin.im/post/5a77fb8df265da4e99576702\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">小鱼周凌宇 - 关于 Pod 库的资源引用 resource_bundles or resources</a></p>\n<p><a href=\"https://stackoverflow.com/questions/41834472/xcode8-usage-of-image-literals-in-frameworks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">stackoverflow - Xcode8: Usage of image literals in frameworks</a></p>","timeToRead":4,"frontmatter":{"title":"Cocoapods Resources Management?","date":"November 06, 2019","spoiler":"how do we have 1x 2x 3x images in Cocoapods?"},"fields":{"slug":"/cocoapods-resources/","langKey":"en"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/cocoapods-resources/","previous":{"fields":{"slug":"/run-your-ios-project-using-fastlane-on-jenkins/","langKey":"en","directoryName":"run-your-ios-project-using-fastlane-on-jenkins","maybeAbsoluteLinks":[]},"frontmatter":{"title":"Run Your iOS Project Using Fastlane on Jenkins"}},"next":{"fields":{"slug":"/api-kit/","langKey":"en","directoryName":"api-kit","maybeAbsoluteLinks":[]},"frontmatter":{"title":"RESTful API and OAuth 2.0"}},"translations":[],"translatedLinks":[]}}}