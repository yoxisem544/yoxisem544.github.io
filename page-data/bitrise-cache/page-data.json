{"componentChunkName":"component---src-templates-blog-post-js","path":"/bitrise-cache/","webpackCompilationHash":"060afc7a824299ecc33f","result":{"data":{"site":{"siteMetadata":{"title":"Hello Swift!","author":"David Lin"}},"markdownRemark":{"id":"f86b644d-4557-5bbd-a9d0-41d3cf2c558d","html":"<p>æœ€è¿‘å› ç‚ºå…¬å¸å°ˆæ¡ˆç·£æ•…æ·±å…¥ç ”ç©¶äº† Bitrise CI çš„ cache æ©Ÿåˆ¶ï¼Œç›®çš„æ˜¯æƒ³è¦é™ä½æ¯æ¬¡ commit check çš„æ™‚å€™éƒ½è¦é‡æ–°å®‰è£ä¸€é dependenciesï¼Œå¦‚ gem, homebrew, mint, pods ç­‰ç­‰ã€‚å¦‚æœæ˜¯æ¶åœ¨ Jenkins ä¸Šå°±æœƒå–®ç´”å¾ˆå¤šï¼Œåªè¦ç®¡ç†å¥½è·‘ Jenkins çš„é›»è…¦ä¸Šçš„ç’°å¢ƒå³å¯ï¼ˆé€™è£¡å°±åªå°ˆæ³¨åœ¨ Bitrise ä¸Šï¼‰ã€‚</p>\n<h2 id=\"å¥—ä»¶ç®¡ç†å·¥å…·\"><a href=\"#%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å¥—ä»¶ç®¡ç†å·¥å…·</h2>\n<p>æˆ‘å€‘å¸Œæœ›å…¬å¸å…§æ¯å€‹ iOS çš„é–‹ç™¼ç’°å¢ƒä¸€è‡´ï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨äº†ä»¥ä¸‹å¹¾å€‹å¥—ä»¶ç®¡ç†å·¥å…·ï¼š</p>\n<ol>\n<li>rbenvï¼šç®¡ç† ruby ç‰ˆæœ¬ã€‚</li>\n<li>bundlerï¼šç®¡ç†å°ˆæ¡ˆä¸­ gem çš„è·¯å¾‘ï¼Œæˆ‘å€‘å°‡å®ƒè£åœ¨ ./vendor/bundle ç›®éŒ„åº•ä¸‹ï¼Œå¦‚æ­¤ä¸€ä¾† ci æˆ–å…¶ä»–é–‹ç™¼è€…å¯ä»¥é€é bundle exec ä¾†åŸ·è¡Œå®‰è£åœ¨ working directory åº•ä¸‹çš„ gemï¼Œå°±ä¸æœƒå› ç‚º gem ç‰ˆæœ¬ä¸ä¸€æ¨£è€Œæ‰“æ¶äº†ã€‚</li>\n<li>mintï¼šç®¡ç† SwiftLint &#x26; SwiftFormat ç‰ˆæœ¬ï¼Œç”±æ–¼ linter æ¯å€‹ç‰ˆæœ¬çš„è¦å‰‡æœƒç•¥æœ‰å¢æ¸›ï¼Œä¸åŒç‰ˆæœ¬çš„ linter æœƒé€ æˆè¦å‰‡ä¸åŒçš„éŒ¯èª¤ã€‚</li>\n<li>cocoapodsï¼šå¯ä»¥é€é bundler ç®¡ç†ï¼Œå¤§å®¶æ‡‰è©²éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå°±ä¸è´…è¿°äº†ã€‚</li>\n</ol>\n<h2 id=\"åœ¨å°šæœª-cache-å‰\"><a href=\"#%E5%9C%A8%E5%B0%9A%E6%9C%AA-cache-%E5%89%8D\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>åœ¨å°šæœª cache å‰</h2>\n<p align=\"center\">\n  <a class=\"gatsby-resp-image-link\" href=\"/static/343dc45ee064b7dbd11cfd8db61c78b2/da6b3/img1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.29608938547487%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVQ4y41UWXaCQBDkRGyiRhMVBEFccGNziTH3P0SnqwcVE57xo177Zqmp6mrUDG9L5nhHurslw9uRyajXVpBTa5KTExbkcDWrvToM3HUVj2b7KR8sqM0XbD8ja5yS5aVScaA/P9L74kSj1YWGyZksX+3Va7t6DFXDYjfe02B9JicuyJzwoZCJA3UBDgC9UiEkv4CHvM039WdHRdielmTMMjIXTDRnW8ucrIh/s50HRX7aSAgXg+VZEaJPNisyopT0KfcyYgw3pI9qcJ9hS93pnnpMBtuisBOXZLMyKynuWOSiVpTWFfqPapFBf44ef9FbfGBCXxGCAFZNWOe1G6pwVL3jGhrqOxO66wv1boSzPdmrShXUhdljn/xnCjPpHXrYiUrS8EoryiUUI+ZUp6maK+919GYHGS2xDEInKsQqCKUGu8YB/jPQqHwfVpG0KLz3kK3CNkYmaB6PJqhQlGU12L6aQzNh2wkCUZ8SFLxKOFh+Sii3lD94obtk2cmJOmEpXw7kX1N8Cjjks5jFWygYym60l7SwgZeEsOrRfzCqPwiQ/wDBa/Zkmcja2wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img1\" title src=\"/static/343dc45ee064b7dbd11cfd8db61c78b2/b9e4f/img1.png\" srcset=\"/static/343dc45ee064b7dbd11cfd8db61c78b2/cf440/img1.png 148w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/d2d38/img1.png 295w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/b9e4f/img1.png 590w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/f9b6a/img1.png 885w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/2d849/img1.png 1180w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/da6b3/img1.png 1432w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>å¯ä»¥çœ‹åˆ° bundle installã€Brew Installã€Mint Bootstrap éƒ½æœƒè€—ä¸Šå¹¾åˆ†é˜çš„æ™‚é–“å»å®‰è£ï¼Œå¦‚æœå¯ä»¥è®“é€™äº›é‡è¤‡åŸ·è¡Œçš„å‹•ä½œå¯ä»¥è¢« cache ä½ï¼Œä¸‹æ¬¡åŸ·è¡Œæ™‚ç›´æ¥å¾ cache æŠ“ï¼Œé€Ÿåº¦æœƒè®Šçš„æ›´å¿«ï¼ </p>\n<hr>\n<h3 id=\"bitrise-cache-æ©Ÿåˆ¶\"><a href=\"#bitrise-cache-%E6%A9%9F%E5%88%B6\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bitrise Cache æ©Ÿåˆ¶</h3>\n<p>Bitrise ä½¿ç”¨äº†è‡ªå®¶çš„ cache æ©Ÿåˆ¶ï¼Œä½ å¯ä»¥åœ¨ workflow editor ä¸­æ‰¾åˆ° cache-pull/cache-push å…©å€‹ step</p>\n<p align=\"center\">\n  <a class=\"gatsby-resp-image-link\" href=\"/static/16bbac08b048615ecaf079a77c074daa/97281/img4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 34.77088948787062%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABLklEQVQoz21RTUsDMRDtz/cgePBo8Vi0BwuCKGgRBCtaamupWKwodbvpfmJ387kefGZSd12lh5eZTCYvb14aSis8RH30w2tM0wm0Nsiz3IHnHJwLF3MC1SxSwfEhBbRSUP/Q4CrH4es+mrMdnM6PYIxBwCKwRYClHyKOErsPsaS9racWN2mMEV/hqyigbT/d0Vr/Ep6wNtqLJs7ZsX3VQAhSxl1THaZ2eRMcIS3jp0f0BneYvszcAY0nhADZIaV0oD6qrXMJ/pOLWlwrzATO9u7R2b7FZWuM4tO4UX1v6RAFsRvff2euzuYMXpygu0qQW4Kiprgi7Oz2cLB1hW5r6A5o3MyaXyojVLm0Sm2MrMrSvz8eUsOk94bBxTNmQ68iJB/Vhl8sYRy5rCwpH/wGRLQOc3mK/TUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img4\" title src=\"/static/16bbac08b048615ecaf079a77c074daa/b9e4f/img4.png\" srcset=\"/static/16bbac08b048615ecaf079a77c074daa/cf440/img4.png 148w,\n/static/16bbac08b048615ecaf079a77c074daa/d2d38/img4.png 295w,\n/static/16bbac08b048615ecaf079a77c074daa/b9e4f/img4.png 590w,\n/static/16bbac08b048615ecaf079a77c074daa/97281/img4.png 742w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>åœ¨ä½ è¦å®‰è£ä»»ä½• dependency ä¹‹å‰ï¼Œæˆ–è€…åŸ·è¡Œ fastlane ä»¥å‰ï¼Œå¯ä»¥é€é cache-pull å°‡æš«å­˜çš„ cache æª”æ¡ˆæŠ“ä¸‹ä¾†ã€‚ç„¶å¾Œåœ¨æ¯æ¬¡çµæŸ task ä¹‹å‰ï¼Œå°‡æœ‰æ›´å‹•æˆ–æ›´æ–°çš„ dependency é€é cache-push åœ¨å­˜èµ·ä¾†ã€‚</p>\n<hr>\n<h3 id=\"cache-gem--bundler\"><a href=\"#cache-gem--bundler\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cache Gem &#x26; Bundler</h3>\n<p>ç”±æ–¼ Bitrise æœ¬èº«ä½¿ç”¨ rbenv ç®¡ç† ruby ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨å°ˆæ¡ˆä¸­å»ºç«‹ .ruby-version æŒ‡å®šè¦ä½¿ç”¨çš„ ruby ç‰ˆæœ¬ï¼Œåœ¨æ­¤æˆ‘åœ¨ .ruby-version ä¸­æŒ‡å®šä½¿ç”¨ 2.6.5 ç‰ˆæœ¬çš„ rubyã€‚</p>\n<p>å†ä¾†æˆ‘å€‘ä¸å¸Œæœ›æŠŠå®‰è£å¥½çš„ gem commit ä¸Š githubï¼Œæ‰€ä»¥é€™è£¡ä½¿ç”¨</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">bundle config <span class=\"token builtin class-name\">set</span> path <span class=\"token string\">'vendor/bundle'</span></code></pre></div>\n<p>æŒ‡å®š bundler è¦å®‰è£ gem çš„è·¯å¾‘ï¼Œä¸¦ä¸”é€é .gitignore å¿½ç•¥æ‰ã€‚</p>\n<hr>\n<p>å›åˆ° Bitrise çš„ Workflow editor æ–°å¢ä¸€å€‹ run script å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">script@1</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Bundle Install\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        bundle i</code></pre></div>\n<blockquote>\n<blockquote>\n<blockquote>\n<p><code class=\"language-text\">bundle i</code> æ˜¯ <code class=\"language-text\">bundle install</code> çš„ç¸®å¯«</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>å¦‚æœä¸æ¸…æ¥šè¦åŠ åœ¨å“ªè£¡çš„è©±ï¼Œæœƒæ˜¯åœ¨ Script content é‚£ä¸€æ¬„ï¼š</p>\n<p align=\"center\">\n  <a class=\"gatsby-resp-image-link\" href=\"/static/ba57139958510264ff7681de1c683a35/ddb0f/img2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 42.10526315789473%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8UlEQVQoz42RzUrEMBSF+/Ku3PgWLlz4DoI4MBs3ymxcjBanadOkSZqmP7RnegIdZkBsAx+30JvDd0iilIKUEkor/H4LPD/s8HT/ise7F3y9n8AzTRO2nsR7j7quwWkqh8P+B5+7Iz7ejlDCzmEj+r7HMAz/wp1xHJEwrCzLiCwlnDfQRiL0Hk3wcNYhhLBK0zQxNNFaI01TsDpDtdIoimL+VrOxgbUWbduuwtAYWFUVhBBgsHPuUqHrugtcXi79xfKPu7Eyg4wxEVpyXgesmXGyMkWiYZZlEb42J20Xsy3cVKZNnufRcnnN65pboSHvnQF1RWibAOQUkwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img2\" title src=\"/static/ba57139958510264ff7681de1c683a35/b9e4f/img2.png\" srcset=\"/static/ba57139958510264ff7681de1c683a35/cf440/img2.png 148w,\n/static/ba57139958510264ff7681de1c683a35/d2d38/img2.png 295w,\n/static/ba57139958510264ff7681de1c683a35/b9e4f/img2.png 590w,\n/static/ba57139958510264ff7681de1c683a35/f9b6a/img2.png 885w,\n/static/ba57139958510264ff7681de1c683a35/ddb0f/img2.png 988w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>ä¸¦ä¸”åœ¨ cache-push çš„ cache-paths å¢åŠ ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cache-push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cache_paths</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        <span class=\"token comment\"># è¨˜å¾—æŠŠè¨»è§£æ‹¿æ‰ï¼Œbitrise ä¸æœƒå¿½ç•¥è¨»è§£ï¼Œæœƒé€ æˆè·¯å¾‘éŒ¯èª¤</span>\n        $GEM_CACHE_PATH <span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span> ./.ruby<span class=\"token punctuation\">-</span>version <span class=\"token comment\"># å®˜æ–¹æ–‡ä»¶çš„ç’°å¢ƒè®Šæ•¸</span>\n        ./vendor <span class=\"token punctuation\">-</span><span class=\"token punctuation\">></span> ./Gemfile.lock <span class=\"token comment\"># ç•¶ gemfile lock æœ‰è®ŠåŒ–æ™‚ï¼Œæ›´æ–° ./vendor åº•ä¸‹çš„ cache</span></code></pre></div>\n<p>ç•¶ä½ çœ‹åˆ°ä»¥ä¸‹çµæœæ™‚è¡¨ç¤º gem æœ‰æˆåŠŸçš„è¢« cache ä½äº†ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">bundle i\n+ bundle i\nUsing CFPropertyList 3.0.2\nUsing concurrent-ruby 1.1.6\n...\nBundle complete! 3 Gemfile dependencies, 83 gems now installed.\nBundled gems are installed into `./vendor/bundle`</code></pre></div>\n<hr>\n<h3 id=\"cache-homebrew--mint\"><a href=\"#cache-homebrew--mint\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cache Homebrew &#x26; Mint</h3>\n<p>å®˜æ–¹æ¨è–¦çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Brew install ç›´æ¥å®‰è£éœ€è¦çš„å¥—ä»¶ï¼Œå†å°‡ cache æ‰“é–‹å³å¯ã€‚ä½†å…¶å¯¦æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œå› ç‚º Bitrise å…§å»º brew æ‰€ä»¥æˆ‘å€‘ä¸éœ€è¦é‡æ–°å®‰è£ä¸€æ¬¡ï¼Œä¹Ÿå¯ä»¥é€é run script çš„æ–¹å¼ç›´æ¥ <code class=\"language-text\">brew install xxx</code>ã€‚</p>\n<p>é€™è£¡æˆ‘å€‘è¦åšçš„äº‹æ˜¯æŠŠ brew å®‰è£å¥—ä»¶çš„ä½ç½®æŠ“å‡ºä¾†ï¼Œå®‰è£å¥½ä¹‹å¾Œé€é cache-push åšå¥½ cacheï¼Œç­‰ä¹‹å¾Œ cache-pull æ™‚å¯ä»¥ç›´æ¥æŠŠæ›¾ç¶“å®‰è£å¥½çš„ brew å¥—ä»¶è£å›ä¾†ï¼Œç¬¬äºŒæ¬¡åŸ·è¡Œ brew install çš„æ™‚å€™é€é link çš„æ–¹å¼ç›´æ¥ link åˆ° cache è£¡çš„å¥—ä»¶ã€‚</p>\n<p>æ‰€ä»¥é€™è£¡æˆ‘å€‘æœ‰å¹¾ä»¶äº‹è¦åšï¼š</p>\n<ol>\n<li>å…ˆè¨­å®šè¦ cache çš„ brew å¥—ä»¶ç’°å¢ƒè®Šæ•¸</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Set Env Path\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        <span class=\"token comment\"># å¢åŠ æˆ‘å€‘è¦ cache çš„ brew å¥—ä»¶ç’°å¢ƒè®Šæ•¸ï¼Œå¦‚æœæœ‰ä½¿ç”¨åˆ°å…¶ä»–çš„å¥—ä»¶ï¼Œè«‹å†æ‰‹å‹•å¢åŠ </span>\n        envman add <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>key BREW_MINT <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>value \"$(brew <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>cellar)/mint\" <span class=\"token comment\"># æŒ‡å®šå¥—ä»¶åç¨±ä½ç½®</span>\n        envman add <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>key BREW_OPT_MINT <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>value \"/usr/local/opt/mint\"  <span class=\"token comment\"># æŒ‡å®šå¥—ä»¶åç¨±ä½ç½®ï¼Œæ­¤ç‚º file alias</span></code></pre></div>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>echo â€$(brew â€”cellar)â€ å¯ä»¥å–å¾— brew å®‰è£å¥—ä»¶ä½ç½®</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<ol start=\"2\">\n<li>æ‰‹å‹•åŸ·è¡Œ Brew Install</li>\n</ol>\n<p>ç”±æ–¼æˆ‘å€‘ä¸èµ° Bitrise æä¾›çµ¦æˆ‘å€‘çš„ Brew Installï¼Œåœ¨æ­¤æˆ‘å€‘è¦æ–°å¢ä¸€å€‹ run scriptï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Brew install\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        <span class=\"token comment\"># åŸ·è¡Œä¸Šè¿°çš„ install æ–¹æ³•ï¼Œæ²’æœ‰å¥—ä»¶å‰‡å…ˆå®‰è£ï¼Œæœ‰çš„è©±ç›´æ¥ link cache ä¸­çš„å¥—ä»¶</span>\n        brew install mint\n        brew link mint</code></pre></div>\n<ol start=\"3\">\n<li>è¨˜å¾—æ–°å¢ cache-paths</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cache-push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cache_paths</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        $BITRISE_CACHE_DIR\n        <span class=\"token punctuation\">...</span>\n\n        <span class=\"token comment\"># æ–°å¢ä»¥ä¸‹ cache_path</span>\n        $BREW_MINT\n        $BREW_OPT_MINT</code></pre></div>\n<p>æˆåŠŸå¾Œå°±æœƒçœ‹åˆ°</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+ brew install mint\nWarning: mint 0.14.2 is already installed, it&#39;s just not linked\nYou can use `brew link mint` to link this version.\n+ brew link mint\nLinking /usr/local/Cellar/mint/0.14.2... 1 symlinks created</code></pre></div>\n<hr>\n<h3 id=\"cache-swiftlint--swiftformat\"><a href=\"#cache-swiftlint--swiftformat\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cache SwiftLint &#x26; SwiftFormat</h3>\n<p>å†ä¾†åŸ·è¡Œ task æ™‚æœƒç™¼ç¾æ¯æ¬¡ mint è¦ bootstrap æŠŠéœ€è¦çš„å¥—ä»¶å®‰è£èµ·ä¾†å¾Œï¼Œæ¯æ¬¡éƒ½è¦ç­‰å¾ˆä¹…ï¼Œæ˜¯å› ç‚º cache brew å¥—ä»¶ä¸¦ä¸æœƒæŠŠ mint å®‰è£éçš„å¥—ä»¶ä¹Ÿä¸€ä½µ cache ä½ã€‚</p>\n<p>åŸå› æ˜¯ mint æŠŠé€é mint å®‰è£çš„å¥—ä»¶å®‰è£åœ¨ <code class=\"language-text\">/usr/local/lib/mint</code> åº•ä¸‹ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨ä¸Šé¢è¨­å®šç’°å¢ƒè®Šæ•¸çš„åœ°æ–¹å†åŠ ä¸Š</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\">envman add <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>key MINT_PACKAGES <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>value \"/usr/local/lib/mint\"</code></pre></div>\n<p>ç„¶å¾Œåœ¨ cache-push çš„ cache-paths æ–°å¢ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cache-push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cache_paths</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        <span class=\"token punctuation\">...</span>\n\n        <span class=\"token comment\"># æ–°å¢</span>\n        $MINT_PACKAGES</code></pre></div>\n<p>æˆåŠŸå¾Œå°±æœƒçœ‹åˆ°ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+ mint bootstrap\nğŸŒ± 2 packages up to date</code></pre></div>\n<p>Mint ä¸æœƒå† compile ä¸€æ¬¡æµªè²»æ™‚é–“ã€‚</p>\n<hr>\n<h3 id=\"çµæœæ¯”è¼ƒ\"><a href=\"#%E7%B5%90%E6%9E%9C%E6%AF%94%E8%BC%83\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>çµæœæ¯”è¼ƒ</h3>\n<p>åŸå…ˆè¦åŸ·è¡Œ 15.8 åˆ†é˜</p>\n<p align=\"center\">\n  <a class=\"gatsby-resp-image-link\" href=\"/static/343dc45ee064b7dbd11cfd8db61c78b2/da6b3/img1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.29608938547487%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVQ4y41UWXaCQBDkRGyiRhMVBEFccGNziTH3P0SnqwcVE57xo177Zqmp6mrUDG9L5nhHurslw9uRyajXVpBTa5KTExbkcDWrvToM3HUVj2b7KR8sqM0XbD8ja5yS5aVScaA/P9L74kSj1YWGyZksX+3Va7t6DFXDYjfe02B9JicuyJzwoZCJA3UBDgC9UiEkv4CHvM039WdHRdielmTMMjIXTDRnW8ucrIh/s50HRX7aSAgXg+VZEaJPNisyopT0KfcyYgw3pI9qcJ9hS93pnnpMBtuisBOXZLMyKynuWOSiVpTWFfqPapFBf44ef9FbfGBCXxGCAFZNWOe1G6pwVL3jGhrqOxO66wv1boSzPdmrShXUhdljn/xnCjPpHXrYiUrS8EoryiUUI+ZUp6maK+919GYHGS2xDEInKsQqCKUGu8YB/jPQqHwfVpG0KLz3kK3CNkYmaB6PJqhQlGU12L6aQzNh2wkCUZ8SFLxKOFh+Sii3lD94obtk2cmJOmEpXw7kX1N8Cjjks5jFWygYym60l7SwgZeEsOrRfzCqPwiQ/wDBa/Zkmcja2wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img1\" title src=\"/static/343dc45ee064b7dbd11cfd8db61c78b2/b9e4f/img1.png\" srcset=\"/static/343dc45ee064b7dbd11cfd8db61c78b2/cf440/img1.png 148w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/d2d38/img1.png 295w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/b9e4f/img1.png 590w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/f9b6a/img1.png 885w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/2d849/img1.png 1180w,\n/static/343dc45ee064b7dbd11cfd8db61c78b2/da6b3/img1.png 1432w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>è®Šæˆåªè¦ 6.4 åˆ†é˜</p>\n<p align=\"center\">\n  <a class=\"gatsby-resp-image-link\" href=\"/static/d73a15ff9488b54b5a44919f334aa8a8/e9603/img3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 80.80229226361033%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2ElEQVQ4y41U6XqCQBDjhcqh1tZeIkLlUGwRQXvZ93+JaTK7Hq1+1R9x+WQ3m8xkcPxoIUFUizeqhM+H4P836Vr6k5Wu18+t+KPF0T5vZMD9Dn868VK6cSN+iBdhJd6w0pWHSXSbreVh9on1Tdzhq16uCI0Ing/GNTiW4nTwMCje5fF1I91JI0GClykQ13qjKlIF5gIe3AHve1A9nG8UvNAh+3W+Em+6FH8GwqlFggMjc0gxPni2oLpe0sgdBcEB3TjcSMIgh2USZVAXHSsxBHtsCbsg1JJMP7XWDm10nhtx01rcHMiAAkgX4k6AqNK6ueFfVHKF/0lMItqlWrXcL9bSmbXGatbsLZ4Da5i0Msjf5ancGMtKmK8lKBGJ0tg2cahP4Hek6I6qmIDw5VvuQIwuW4VzqxDE2unoUoWN1m+nUAuLuHiprVsCIIes0VmwhuN6F3ytoXY5Q5cLWC0QnRyI65MTcQTs4UCQ7L74MF3eNiVgU0prOT7O3ClsczjI3+TpMNjaFNbwpdU8aqDHlxNS3WP5hVlfGcu9tNXuerRrh/2sXbuvayeFpBxDJeynZlKCyb672+H/D2wM9/MrxPppU1jU4fxbbwixmrn80k2XBty3meTX5ge7ND30qmSsAgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"img3\" title src=\"/static/d73a15ff9488b54b5a44919f334aa8a8/b9e4f/img3.png\" srcset=\"/static/d73a15ff9488b54b5a44919f334aa8a8/cf440/img3.png 148w,\n/static/d73a15ff9488b54b5a44919f334aa8a8/d2d38/img3.png 295w,\n/static/d73a15ff9488b54b5a44919f334aa8a8/b9e4f/img3.png 590w,\n/static/d73a15ff9488b54b5a44919f334aa8a8/f9b6a/img3.png 885w,\n/static/d73a15ff9488b54b5a44919f334aa8a8/2d849/img3.png 1180w,\n/static/d73a15ff9488b54b5a44919f334aa8a8/e9603/img3.png 1396w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Bundle install 2.7 min -> 2.8 sec</li>\n<li>Mint Bootstrap 6.4 min -> 1.72 sec</li>\n</ul>\n<p>æ¯æ¬¡ commit push éƒ½å¯ä»¥çœä¸‹å°‡è¿‘ 10 åˆ†é˜çš„æ™‚é–“ï¼Œé•·ä¹…ç´¯ç©ä¸‹ä¾†çµ•å°ä¸æ˜¯å€‹å°æ•¸ç›®ã€‚</p>\n<hr>\n<h3 id=\"åƒè€ƒè³‡æº\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%BA%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>åƒè€ƒè³‡æº</h3>\n<p><a href=\"https://qiita.com/Kazuma_Nagano/items/502c1733f1b6da3a9073\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[iOS] Bitriseã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã§ãã‚‹ã ã‘ç”Ÿã‹ã—ã¦CI / CDã®é«˜é€ŸåŒ–ã‚’å›³ã‚‹ - @Kazuma_Nagano</a></p>\n<p><a href=\"https://qiita.com/yosshi4486/items/cca97bf84e0be71569ee_\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bitriseã§ gemã¨brewã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ - @yosshi4486</a></p>","timeToRead":4,"frontmatter":{"title":"Bitrise Cache","date":"June 30, 2020","spoiler":"How to speed up dependency installation?"},"fields":{"slug":"/bitrise-cache/","langKey":"en"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/bitrise-cache/","previous":{"fields":{"slug":"/api-kit/","langKey":"en","directoryName":"api-kit","maybeAbsoluteLinks":[]},"frontmatter":{"title":"RESTful API and OAuth 2.0"}},"next":null,"translations":[],"translatedLinks":[]}}}